<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∂ö‡∑è‡∂ª‡∑ä‡∂∫‡∑è‡∂Ω ‡∂ã‡∂¥‡∂±‡∑ä‡∂Ø‡∑í‡∂± ‡∂ß‡∑ä‡∂ª‡∑ê‡∂ö‡∂ª‡∑ä</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans Sinhala', sans-serif;
            background-color: #f0f4f8;
            color: #334155;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            line-height: 1.6;
        }
        .app-container {
            width: 100%;
            max-width: 600px;
            background-color: white;
            border-radius: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            padding: 2.5rem 2rem;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        .app-header {
            margin-bottom: 2rem;
        }
        .header-title {
            color: #1e293b;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .header-subtitle {
            font-size: 1.125rem;
            color: #64748b;
        }
        .birthday-list {
            list-style: none;
            padding: 0;
            margin-top: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }
        .birthday-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #f8fafc;
            padding: 1.5rem 2rem;
            border-radius: 1.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        .birthday-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
        }
        .birthday-item-today {
            background: linear-gradient(135deg, #fde047, #fcd34d);
            color: #854d0e;
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(252, 211, 77, 0.5);
            animation: bounceIn 0.8s;
            position: relative;
            z-index: 10;
        }
        @keyframes bounceIn {
            0%, 20%, 40%, 60%, 80%, 100% {
                transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
            }
            0% { transform: scale3d(0.3, 0.3, 0.3); opacity: 0; }
            20% { transform: scale3d(1.1, 1.1, 1.1); }
            40% { transform: scale3d(0.9, 0.9, 0.9); }
            60% { transform: scale3d(1.05, 1.05, 1.05); opacity: 1; }
            80% { transform: scale3d(0.97, 0.97, 0.97); }
            100% { transform: scale3d(1, 1, 1); }
        }
        .name-date-group {
            text-align: left;
            flex-grow: 1;
        }
        .name {
            font-size: 1.5rem;
            font-weight: 700;
        }
        .date {
            font-size: 1rem;
            color: #64748b;
        }
        .birthday-item-today .date {
            color: #b45309;
            font-weight: 600;
        }
        .day-count {
            font-size: 1.875rem;
            font-weight: 800;
            color: #0d9488;
        }
        .today-message {
            font-size: 1.5rem;
            font-weight: 800;
            color: #854d0e;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .today-balloons {
            font-size: 1.875rem;
            animation: float 2s ease-in-out infinite alternate;
        }
        @keyframes float {
            from { transform: translateY(0px); }
            to { transform: translateY(-8px); }
        }
        .footer {
            margin-top: 2rem;
            font-size: 0.875rem;
            color: #64748b;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

<div class="app-container">
    <header class="app-header">
        <h1 class="header-title">‡∂ö‡∑è‡∂ª‡∑ä‡∂∫‡∑è‡∂Ω ‡∂ã‡∂¥‡∂±‡∑ä ‡∂Ø‡∑í‡∂±</h1>
        <p class="header-subtitle">‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂ö‡∑è‡∂ª‡∑ä‡∂∫ ‡∂∏‡∂´‡∑ä‡∂©‡∂Ω‡∂∫‡∑ö ‡∂ã‡∂¥‡∂±‡∑ä‡∂Ø‡∑í‡∂± ‡∂Ω‡∑ê‡∂∫‡∑í‡∑É‡∑ä‡∂≠‡∑î‡∑Ä</p>
    </header>
    
    <ul id="birthdayList" class="birthday-list">
        <!-- Birthday items will be injected here by JavaScript -->
    </ul>
    
    <footer class="footer">
        <p>‡∂∏‡∑ô‡∂∫ ‡∂î‡∂∂‡∑ö APK ‡∂ë‡∂ö‡∂ß ‡∂¥‡∂ª‡∑í‡∑Ä‡∂ª‡∑ä‡∂≠‡∂±‡∂∫ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑Ä‡∂± ‡∂±‡∑Ä‡∑ì‡∂± ‡∂ö‡∑ö‡∂≠‡∂∫‡∂∫‡∑í.</p>
    </footer>
</div>

<script>
    // Embedded birthday data as requested by the user
    // You can add more data here
    const birthdays = [
        { name: "John Doe", date: "09-05" }, // September 5
        { name: "Jane Smith", date: "11-20" }, // November 20
        { name: "Saman Kumara", date: "02-14" }, // February 14
        { name: "Nimal Perera", date: "07-25" }, // July 25
        { name: "Kamala Silva", date: "01-01" }, // January 1
        { name: "Anura Bandara", date: "12-30" }, // December 30
        { name: "Priyani Dias", date: "05-18" }, // May 18
        { name: "Jagath Weerasinghe", date: "10-03" }, // October 3
        { name: "Sunil Jayasuriya", date: "06-08" }, // June 8
        { name: "Dilani Fernando", date: "03-21" } // March 21
    ];

    const birthdayList = document.getElementById('birthdayList');

    // Function to calculate days until next birthday
    const getDaysUntilBirthday = (birthdayMonth, birthdayDay) => {
        const today = new Date();
        const currentYear = today.getFullYear();
        const nextBirthday = new Date(currentYear, birthdayMonth - 1, birthdayDay);
        
        // If the birthday has already passed this year, calculate for next year
        if (nextBirthday < today) {
            nextBirthday.setFullYear(currentYear + 1);
        }
        
        const oneDay = 1000 * 60 * 60 * 24;
        const diffInTime = nextBirthday.getTime() - today.getTime();
        return Math.ceil(diffInTime / oneDay);
    };

    // Function to sort the birthdays based on rules
    const sortBirthdays = (birthdays) => {
        const today = new Date();
        const todayMonth = today.getMonth() + 1;
        const todayDay = today.getDate();
        
        const todayBirthdays = [];
        const upcomingBirthdays = [];
        const passedBirthdays = [];

        birthdays.forEach(person => {
            const [month, day] = person.date.split('-').map(Number);
            person.daysUntil = getDaysUntilBirthday(month, day);
            
            if (month === todayMonth && day === todayDay) {
                todayBirthdays.push(person);
            } else if (person.daysUntil > 0) {
                upcomingBirthdays.push(person);
            } else {
                // For passed birthdays, calculate days until next year
                person.daysUntil = getDaysUntilBirthday(month, day);
                passedBirthdays.push(person);
            }
        });

        // Sort upcoming birthdays from closest to furthest
        upcomingBirthdays.sort((a, b) => a.daysUntil - b.daysUntil);

        // Sort passed birthdays by recency (the one with the largest daysUntil is the most recent)
        passedBirthdays.sort((a, b) => a.daysUntil - b.daysUntil);

        return [...todayBirthdays, ...upcomingBirthdays, ...passedBirthdays];
    };

    // Function to render the list
    const renderBirthdays = () => {
        const sortedBirthdays = sortBirthdays(birthdays);
        
        // Clear the list before rendering
        birthdayList.innerHTML = '';
        
        sortedBirthdays.forEach(person => {
            const [month, day] = person.date.split('-').map(Number);
            const today = new Date();
            const isToday = today.getMonth() + 1 === month && today.getDate() === day;

            const listItem = document.createElement('li');
            listItem.className = `birthday-item ${isToday ? 'birthday-item-today' : 'bg-white'}`;
            
            let contentHtml = '';
            if (isToday) {
                contentHtml = `
                    <div class="name-date-group">
                        <span class="name">ü•≥ ${person.name}</span>
                        <span class="date text-gray-700 font-semibold">(‡∂ã‡∂¥‡∂±‡∑ä ‡∂Ø‡∑í‡∂±‡∂∫: ${month}-${day})</span>
                    </div>
                    <div class="today-message flex items-center gap-2">
                        <span class="today-balloons">üéà</span>
                        <span>‡∑É‡∑î‡∂∑ ‡∂ã‡∂¥‡∂±‡∑ä‡∂Ø‡∑í‡∂±‡∂∫‡∂ö‡∑ä!</span>
                        <span class="today-balloons">üéà</span>
                    </div>
                `;
            } else {
                contentHtml = `
                    <div class="name-date-group">
                        <span class="name">${person.name}</span>
                        <span class="date">(‡∂ã‡∂¥‡∂±‡∑ä ‡∂Ø‡∑í‡∂±‡∂∫: ${month}-${day})</span>
                    </div>
                    <div class="day-count">
                        ${person.daysUntil} ‡∂Ø‡∑í‡∂±
                    </div>
                `;
            }
            
            listItem.innerHTML = contentHtml;
            birthdayList.appendChild(listItem);
        });
    };

    // Initial render when the page loads
    window.onload = renderBirthdays;

</script>

</body>
</html>
